<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	*{ margin: 0px; padding: 0px; list-style: none;}
	#div1{ width: 400px; height: 50px; background: #ccc; position: relative; margin: 0 auto; line-height: 50px; overflow: hidden;}
	#div1 div{ width: 400px; height: 50px; background: #FF0004; position: absolute; left: -400px; top: 0px;}
	#div1 span{ position: absolute; left: 10px; color: #FFFFFF; font-size: 2em; font-family: "Arial";}
</style>
</head>

<body>
	<div id="div1">
    	<div></div>
        <span>0%</span>
    </div>
</body>
<script src="../js/move.js"></script>
<script>
window.onload=function(){
	var oDiv=document.getElementById('div1');
	var oMove=oDiv.children[0];
	var oSpan=oDiv.children[1];
	
	//move(oMove,{left:-100});
	
	//console.log(oMove.offsetLeft/oDiv.offsetWidth+1)
	function start(obj,iTarget,time){
		var start=obj.offsetLeft;
		var dis=iTarget-start;
		var count=Math.round(time/30);
		var n=0;
		var timer=setInterval(function(){
			n++;
			var a=1-n/count;
			obj.style.left=start+dis*(1-a*a*a)+'px';
			oSpan.innerHTML=Math.abs((parseInt((1+obj.offsetLeft/oDiv.offsetWidth)*100)))+'%';
			if(n==count){
				clearInterval(timer)
			}
		},30)
	}
	start(oMove,-100,3000)
	
};	
</script>
</html>
